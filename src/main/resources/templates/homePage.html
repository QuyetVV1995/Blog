<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5" lang="en">
<head>
    <title>My Blog</title>

    <!-- FontAwesome JS-->
    <script defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>

</head>
<body>

<header>
    <div class="container">
        <h1>ROAD TO JAPAN</h1>
        <div  th:if="${#authorization.expression('hasRole(''ROLE_USER'')')}">
            Welcome <span sec:authentication="principal.username">!</span>
        </div>
        <div  th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
            Welcome <span sec:authentication="principal.username">!</span>
            <div> <a th:href="@{/post/add}"> ADD POST </a> </div>
        </div>

    </div>
    <h1>QuyetVV Blog</a></h1>

    <div>Hi, my nam is QuyetVV<br><a href="#">Find out more about me</a></div>
    <ul>
        <li class="list-inline-item"><a href="https://github.com/QuyetVV1995"><i class="fab fa-github"></i></a></li>
        <li class="list-inline-item"><a href="https://github.com/QuyetVV1995"><i class="fab fa-facebook-square"></i></a>
        </li>
    </ul><!--//social-list-->
    <ul>
        <li>
            <a href="#"><i class="fas fa-home fa-fw mr-2"></i>Home </a>
        </li>
        <li>
            <a href="#"><i class="fas fa-bookmark fa-fw mr-2"></i>Spring Boot</a>
        </li>
        <li>
            <a href="#"><i class="fas fa-bookmark fa-fw mr-2"></i>Japanese</a>
        </li>
        <li>
            <a href="#"><i class="fas fa-user fa-fw mr-2"></i>About Me</a>
        </li>
    </ul>
    </div>
    <div  th:unless="${#authorization.expression('hasRole(''ROLE_ADMIN'')') or #authorization.expression('hasRole(''ROLE_USER'')')  }">
        <a th:href="@{/login}"> Login </a>
    </div>
</header>

<div>

    <ul>
        <li th:each="postList: ${postList}">
            <div  th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
                <p >ID: <span th:text="${postList.id}"> </span></p>
                <p> <a th:href="@{/post/edit/{id}(id=${postList.id})}"> EDIT POST </a> </p>
                <p> <a th:href="@{/post/delete/{id}(id=${postList.id})}"> DELETE POST </a> </p>
            </div>
            <p >Title: <span th:text="${postList.title}"> </span></p>
            <p >Intro: <span th:text="${postList.intro}"> </span></p>
            <p >Create at: <span th:text="${postList.created_at}"> </span></p>
            <a class="more-link" href="#">Read more &rarr;</a>


        </li>
    </ul>

</div>
</section>

<footer>
    <small class="copyright">Road to Japan <i class="fas fa-heart" style="color: #fb866a;"></i> </small>
</footer>

</div>
</body>
</html>